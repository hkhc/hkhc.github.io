(self.webpackChunkhkhc_github_io=self.webpackChunkhkhc_github_io||[]).push([[497],{5:function(t,e,a){"use strict";a.r(e),a.d(e,{frontMatter:function(){return r},metadata:function(){return o},toc:function(){return s},default:function(){return p}});var n=a(2122),l=a(9756),i=(a(7294),a(3905)),r={title:"Tag Creation",id:"tag-creation",sidebar_position:4},o={unversionedId:"ihlog/tag-creation",id:"ihlog/tag-creation",isDocsHomePage:!1,title:"Tag Creation",description:"In its simplest form, the library create the tag string for logging implicitly. It is based on the",source:"@site/docs/ihlog/tag-creation.md",sourceDirName:"ihlog",slug:"/ihlog/tag-creation",permalink:"/docs/ihlog/tag-creation",editUrl:"https://github.com/hkhc/hkhc.github.io/docs/ihlog/tag-creation.md",version:"current",sidebarPosition:4,frontMatter:{title:"Tag Creation",id:"tag-creation",sidebar_position:4},sidebar:"ihlogSidebar",previous:{title:"Basic Usage",permalink:"/docs/ihlog/usage"},next:{title:"Configuration",permalink:"/docs/ihlog/configuration"}},s=[{value:"Rule 1",id:"rule-1",children:[]},{value:"Rule 2",id:"rule-2",children:[]},{value:"Additional Rule : Inner class and Companion class",id:"additional-rule--inner-class-and-companion-class",children:[]},{value:"Meta tag",id:"meta-tag",children:[{value:"Provide log tag explicitly",id:"provide-log-tag-explicitly",children:[]}]}],d={toc:s};function p(t){var e=t.components,a=(0,l.Z)(t,["components"]);return(0,i.kt)("wrapper",(0,n.Z)({},d,a,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"In its simplest form, the library create the tag string for logging implicitly. It is based on the\nclass name that the log methods are invoked. The class name is transformed into abbreviated form\nfor berevity of log output."),(0,i.kt)("p",null,"Why do we want to abbreviate the class name? The class name is usually long for any non-trivial app.\nEspecially when the inner classes or Companion classes are involved. It may even exceed the tag\nlength limit of 23 characters on pre Android N devices."),(0,i.kt)("p",null,"Essentially, the tag string is generated from the simple class name (i.e. regardless the package)\nby two rules:"),(0,i.kt)("h3",{id:"rule-1"},"Rule 1"),(0,i.kt)("p",null,"When there are not more than 2 capital characters in the name, then the tag is composed by taking\neach of the captial characters and the following small letter or digital, and keep the whole tag within\n4 characters.. For example,"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"class name"),(0,i.kt)("th",{parentName:"tr",align:null},"tag"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"HelloWorld")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"HeWo"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Exception")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Ex"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"MBone")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"MBo"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"AB123")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"AB1"))))),(0,i.kt)("h3",{id:"rule-2"},"Rule 2"),(0,i.kt)("p",null,"When there are more than 2 capitals letters, only capital characters are extracted"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"class name"),(0,i.kt)("th",{parentName:"tr",align:null},"tag"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"NullPointerException")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"NPE"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"ItIsAGoodDayToDie")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"IIAGDTD"))))),(0,i.kt)("h3",{id:"additional-rule--inner-class-and-companion-class"},"Additional Rule : Inner class and Companion class"),(0,i.kt)("p",null,"The tag for inner class is defined by combined by the abbreviation of the outer class name and the\ninner class name. E.g."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"class name"),(0,i.kt)("th",{parentName:"tr",align:null},"tag"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"HelloWorld.Listener")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"HeWoLi"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"View.OnClickListener")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"ViOCL"))))),(0,i.kt)("p",null,"Kotlin methods in ",(0,i.kt)("inlineCode",{parentName:"p"},"companion object")," block are compiled to an inner class ",(0,i.kt)("inlineCode",{parentName:"p"},"Companion"),' within the\nouter class. IHLog make exception to the Companion class not including the "C" in abbreviation.'),(0,i.kt)("h2",{id:"meta-tag"},"Meta tag"),(0,i.kt)("p",null,'We may specify a global prefix to the tag, known as "Meta Tag", so that all\ntags in the process is prepended with the meta tag. With meta tag, we can easily\nfilter log output and focus on what is generated by our app. For example,'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:"{1}","{1}":!0},'IHLogConfig.init(IHLogSetting(metaTagPolicy = SimpleMetaTag("MYAPP")))\n\nclass HelloWorld {\n  fun hello() {\n    l.debug("This is a log in class HelloWorld")\n  }\n}\n\nclass BananaOrange {\n  fun apple() {\n    l.debug("This is a log in class BananaOrange")\n  }\n}\n')),(0,i.kt)("p",null,"The logcat output would be"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"03-03 02:04:49.949  1224  5126 D MYAPP_HeWo: This is a log in class HelloWorld\n...\n03-03 02:04:49.949  1224  5126 D MYAPP_BaOr: This is a log in class BananaOrange\n")),(0,i.kt)("p",null,"By default the meta tag is empty string, and the underscore will not prepend tags."),(0,i.kt)("h3",{id:"provide-log-tag-explicitly"},"Provide log tag explicitly"),(0,i.kt)("p",null,"We may also provide log tag explicitly for each log line."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'l.debug("MyTag", "This is a log line with explicit log tag.")\n\n// or\n\nl.debug("MyTag") {\n    "This is a log line with explicit log tag."\n}\n\n')))}p.isMDXComponent=!0}}]);