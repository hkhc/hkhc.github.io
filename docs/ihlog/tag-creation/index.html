<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="HKHC Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="HKHC Blog Atom Feed"><title data-react-helmet="true">Tag Creation | HKHC</title><meta data-react-helmet="true" property="og:url" content="https://hkhc.github.io/docs/ihlog/tag-creation"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Tag Creation | HKHC"><meta data-react-helmet="true" name="description" content="In its simplest form, the library create the tag string for logging implicitly. It is based on the"><meta data-react-helmet="true" property="og:description" content="In its simplest form, the library create the tag string for logging implicitly. It is based on the"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hkhc.github.io/docs/ihlog/tag-creation"><link data-react-helmet="true" rel="alternate" href="https://hkhc.github.io/docs/ihlog/tag-creation" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://hkhc.github.io/docs/ihlog/tag-creation" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7301512c.css">
<link rel="preload" href="/assets/js/runtime~main.06d08222.js" as="script">
<link rel="preload" href="/assets/js/main.df80bd7a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><strong class="navbar__title">HKHC</strong></a><a href="https://hkhc.github.io/jarbird" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Jarbird</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/ihlog/index">IHLog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hkhc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><strong class="navbar__title">HKHC</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://hkhc.github.io/jarbird" target="_blank" rel="noopener noreferrer" class="menu__link">Jarbird</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/ihlog/index">IHLog</a></li><li class="menu__list-item"><a href="https://github.com/hkhc" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/ihlog/index">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ihlog/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ihlog/usage">Basic Usage</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/docs/ihlog/tag-creation">Tag Creation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ihlog/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ihlog/log-providers">Log Providers</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Tag Creation</h1></header><div class="markdown"><p>In its simplest form, the library create the tag string for logging implicitly. It is based on the
class name that the log methods are invoked. The class name is transformed into abbreviated form
for berevity of log output.</p><p>Why do we want to abbreviate the class name? The class name is usually long for any non-trivial app.
Especially when the inner classes or Companion classes are involved. It may even exceed the tag
length limit of 23 characters on pre Android N devices.</p><p>Essentially, the tag string is generated from the simple class name (i.e. regardless the package)
by two rules:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="rule-1"></a>Rule 1<a class="hash-link" href="#rule-1" title="Direct link to heading">#</a></h3><p>When there are not more than 2 capital characters in the name, then the tag is composed by taking
each of the captial characters and the following small letter or digital, and keep the whole tag within
4 characters.. For example,</p><table><thead><tr><th>class name</th><th>tag</th></tr></thead><tbody><tr><td><code>HelloWorld</code></td><td><code>HeWo</code></td></tr><tr><td><code>Exception</code></td><td><code>Ex</code></td></tr><tr><td><code>MBone</code></td><td><code>MBo</code></td></tr><tr><td><code>AB123</code></td><td><code>AB1</code></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="rule-2"></a>Rule 2<a class="hash-link" href="#rule-2" title="Direct link to heading">#</a></h3><p>When there are more than 2 capitals letters, only capital characters are extracted</p><table><thead><tr><th>class name</th><th>tag</th></tr></thead><tbody><tr><td><code>NullPointerException</code></td><td><code>NPE</code></td></tr><tr><td><code>ItIsAGoodDayToDie</code></td><td><code>IIAGDTD</code></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="additional-rule--inner-class-and-companion-class"></a>Additional Rule : Inner class and Companion class<a class="hash-link" href="#additional-rule--inner-class-and-companion-class" title="Direct link to heading">#</a></h3><p>The tag for inner class is defined by combined by the abbreviation of the outer class name and the
inner class name. E.g.</p><table><thead><tr><th>class name</th><th>tag</th></tr></thead><tbody><tr><td><code>HelloWorld.Listener</code></td><td><code>HeWoLi</code></td></tr><tr><td><code>View.OnClickListener</code></td><td><code>ViOCL</code></td></tr></tbody></table><p>Kotlin methods in <code>companion object</code> block are compiled to an inner class <code>Companion</code> within the
outer class. IHLog make exception to the Companion class not including the &quot;C&quot; in abbreviation.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="meta-tag"></a>Meta tag<a class="hash-link" href="#meta-tag" title="Direct link to heading">#</a></h2><p>We may specify a global prefix to the tag, known as &quot;Meta Tag&quot;, so that all
tags in the process is prepended with the meta tag. With meta tag, we can easily
filter log output and focus on what is generated by our app. For example,</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">IHLogConfig.init(IHLogSetting(metaTagPolicy = SimpleMetaTag(&quot;MYAPP&quot;)))</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">class HelloWorld {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  fun hello() {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    l.debug(&quot;This is a log in class HelloWorld&quot;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">class BananaOrange {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  fun apple() {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    l.debug(&quot;This is a log in class BananaOrange&quot;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The logcat output would be</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">03-03 02:04:49.949  1224  5126 D MYAPP_HeWo: This is a log in class HelloWorld</span></div><div class="token-line" style="color:#393A34"><span class="token plain">...</span></div><div class="token-line" style="color:#393A34"><span class="token plain">03-03 02:04:49.949  1224  5126 D MYAPP_BaOr: This is a log in class BananaOrange</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>By default the meta tag is empty string, and the underscore will not prepend tags.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="provide-log-tag-explicitly"></a>Provide log tag explicitly<a class="hash-link" href="#provide-log-tag-explicitly" title="Direct link to heading">#</a></h3><p>We may also provide log tag explicitly for each log line.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">l.debug(&quot;MyTag&quot;, &quot;This is a log line with explicit log tag.&quot;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// or</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">l.debug(&quot;MyTag&quot;) {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;This is a log line with explicit log tag.&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/hkhc/hkhc.github.io/docs/ihlog/tag-creation.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/ihlog/usage"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Basic Usage</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/ihlog/configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#rule-1" class="table-of-contents__link">Rule 1</a></li><li><a href="#rule-2" class="table-of-contents__link">Rule 2</a></li><li><a href="#additional-rule--inner-class-and-companion-class" class="table-of-contents__link">Additional Rule : Inner class and Companion class</a></li><li><a href="#meta-tag" class="table-of-contents__link">Meta tag</a><ul><li><a href="#provide-log-tag-explicitly" class="table-of-contents__link">Provide log tag explicitly</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://medium.com/@hkhcheung" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 HKHC. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.06d08222.js"></script>
<script src="/assets/js/main.df80bd7a.js"></script>
</body>
</html>